<!-- NOT FINISHED -->
<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8" />
	<title>Basic Bugle Example</title>
	<script src="./../bugle.js"></script>
</head>
<body>
	<div id="todo-pane">
		<ul id="todo-list"></ul>
		<div>
			<label>add an item:</label>
			<input id="todo-newItem" type="text" value="Git Push"></input>
			<button id="todo-add">Add Item</button>
		</div>
	</div>
	<script>

		// this object stores todo items 
		// these todo items can be appended to the dom using 'updateUI'

		// create a new Bugle instance
		var	CustomBugle = Bugle({

			// handle to our todo list
			'list': document.getElementById('todo-list'),

			// construct our new Bugle under the hood
			'_init': function() {
				
				this.draw();

				// subscribe this object instance to the 'add' topic
				// call 'addItem' when data is published to the topic
				this.sub('add', this.addItem);
			},
				
			'items': [
				'git status',
				'git diff',
				'git commit'
			],

			// will be called by Bugle once the user adds a new todo item
			'addItem': function(item, topic) { 
				this.items.push(item);
				this.draw();
			},

			// keep it simple for now
			'draw': function() {

				this.list.innerHTML = '';

				for(var item in this.items) {
					this.list.innerHTML += '<li>' + this.items[item] + '</li>';
				}
			}

		});

		// run our custom bugle instance
		// note: passes object args to '_init' member
		var bugle = CustomBugle(),

		// handle to our todo add item button
		todoAdd = document.getElementById('todo-add');

		// attach an event listener to our button
		todoAdd.addEventListener('click', function() {
			
			// get the todo value set in the text box
			var item = document.getElementById('todo-newItem').value;

			// publish input text value to the 'add' topic
			bugle.pub('add', item);

		}, false)

	</script>
</body>
</html>